<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dice</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .dice-anim {
            width: 80px;
            height: 80px;
            margin-bottom: 10px;
        }
    </style>
</head>
<body class="bg-dark text-light">
    <div class="container py-5">
        <h2 class="text-center mb-4">Dice</h2>
        <p class="text-center">Balance: <span class="badge bg-success">{{ balance }} ZAR</span></p>
        {% if result %}
            <div class="alert alert-info text-center">{{ result }}</div>
        {% endif %}
        {% with messages = get_flashed_messages(with_categories=true) %}
          {% if messages %}
            {% for category, message in messages %}
              <div class="alert alert-{{ category }}">{{ message }}</div>
            {% endfor %}
          {% endif %}
        {% endwith %}
        <div class="text-center mb-4">
            <img id="dice-img" class="dice-anim" src="https://media.giphy.com/media/l0MYt5jPR6QX5pnqM/giphy.gif" alt="Rolling Dice">
            <p class="mt-2">Roll the dice and test your luck!</p>
        </div>
        <form method="post" class="mx-auto" style="max-width:400px;" onsubmit="rollDice()">
            <div class="mb-3">
                <label for="bet" class="form-label">Bet Amount (ZAR):</label>
                <input type="number" class="form-control" id="bet" name="bet" required min="1" max="{{ balance }}">
            </div>
            <div class="mb-3">
                <label for="guess" class="form-label">Guess the dice roll (1-6):</label>
                <input type="number" class="form-control" id="guess" name="guess" required min="1" max="6">
            </div>
            <button type="submit" class="btn btn-warning w-100">Roll</button>
        </form>
        <div class="text-center mt-4">
            <a href="{{ url_for('home') }}" class="btn btn-outline-light">Back to Home</a>
        </div>
    </div>
    <script>
        function rollDice() {
            var dice = document.getElementById('dice-img');
            dice.src = "https://media.giphy.com/media/l0MYt5jPR6QX5pnqM/giphy.gif";
        }
    </script>
</body>
</html>